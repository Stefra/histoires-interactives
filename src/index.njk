---
# On utilise toujours notre layout de base
layout: base.njk
# Titre de la page d'accueil
title: Bienvenue - Choisissez votre aventure !
---

{# Message de bienvenue #}
<h1>Choisissez votre aventure !</h1>
<p>Plongez dans des histoires interactives où vos choix façonnent votre destin.</p>

{# === Filtres par Catégorie d'Âge === #}
<div class="category-filters" role="group" aria-label="Filtrer les histoires par âge">
    <button class="filter-button active" data-filter="all">Toutes</button>
    <button class="filter-button" data-filter="6-9 ans">6-9 ans</button>
    <button class="filter-button" data-filter="10-12 ans">10-12 ans</button>
    <button class="filter-button" data-filter="Adolescent">Adolescent</button>
    <button class="filter-button" data-filter="Jeune Adulte">Jeune Adulte</button>
    <button class="filter-button" data-filter="Adulte">Adulte</button>
</div>

{# Section pour lister les histoires disponibles #}
<div class="story-list">

    {# On boucle sur chaque histoire définie dans _data/histoires.json #}
    {% for story in histoires %}
        {# Ajout de data-story-id et data-start-step pour que le JS puisse les lire #}
        <div class="story-card"
             data-category="{{ story.ageCategory }}"
             data-story-id="{{ story.id }}"
             data-start-step="{{ story.startStepId }}"
             >
            {# Affiche l'image de couverture de l'histoire #}
            {% if story.coverImage %}
                <img class="story-image" src="/images/{{ story.coverImage }}" alt="Illustration pour {{ story.title }}">
            {% endif %}

            <div class="story-content">
                {# Ajout de l'élément SPAN pour afficher le statut (Terminé, Perdu, etc.) #}
                <span class="story-status"></span>

                {# Affiche le titre de l'histoire #}
                <h2 class="story-title">{{ story.title }}</h2>

                {# Affiche la description de l'histoire #}
                {% if story.description %}
                    <p class="story-description">{{ story.description }}</p>
                {% endif %}

                {# Crée le lien pour commencer/reprendre/recommencer l'histoire #}
                {# L'URL et le texte seront mis à jour par le JavaScript #}
                <a class="story-link" href="/histoires/{{ story.id }}/{{ story.startStepId }}/">Commencer l'aventure</a>
            </div>
        </div>
    {% endfor %}

</div>